<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Konami Code Exercise</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="css/konami.css">
</head>
<body id="gradient">


<h1 class="text-center mt-5" id="konami-header">Konami Code</h1>
<div class="container-fluid" id="go-insane">



</div>





<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<script>
    "use strict";
    $(document).ready(function () {

        var allowedKeys = {
            "ArrowUp": "up",
            "ArrowDown": "down",
            "ArrowLeft": "left",
            "ArrowRight": "right",
            "a": "a",
            "b": "b"
        };
        var konami = ["up", "up", "down", "down", "left", "right", "left", "right", "a", "b"];
        var konamiCodePosition = 0;

        $(document).keydown(function (e) {
            e.preventDefault();
            var key = allowedKeys[e.key];
            var requiredKey = konami[konamiCodePosition];

            if (key === requiredKey) {
                konamiCodePosition++;

                if (konamiCodePosition === konami.length) {
                    goInsane();
                    konamiCodePosition = 0;
                }
            } else {
                konamiCodePosition = 0;
            }
        });


        function goInsane() {

            $("#konami-header").remove();
            $("body").css({
                "font-family" : 'Palatino, "Palatino Linotype", "Palatino LT STD", "Book Antiqua", Georgia, serif',
                "background" : ""
            });
            $("#go-insane").append("<section class=\"row\">\n" +
                "        <div class=\"col-3 mb-5\">\n" +
                "            <img src=\"https://media1.tenor.com/images/48ab2af082ad3d41aa34646e4c467fc1/tenor.gif?itemid=4747697\" alt=\"\">\n" +
                "        </div>\n" +
                "        <div class=\"col-3 offset-6 mb-5\">\n" +
                "            <img src=\"https://media1.tenor.com/images/06e438bb03983a7c7087618f20b2c25a/tenor.gif?itemid=8203989\" alt=\"\">\n" +
                "        </div>\n" +
                "    </section>\n" +
                "    <section class=\"row\">\n" +
                "        <h1 class=\"col-10 text-center offset-1\">\n" +
                "            <span class=\\\"title\\\">TIME TO GO INSANE</span>" +
                "        </h1>\n" +
                "    </section>\n" +
                "    <section class=\"row\">\n" +
                "        <div class=\"col-3 mt-5\">\n" +
                "            <img src=\"https://media.tenor.com/images/f709a32636b4b6a0abaf59c95ac82117/tenor.gif\" alt=\"\">\n" +
                "        </div>\n" +
                "        <div class=\"col-3 offset-6 mt-5\">\n" +
                "            <img src=\"https://media1.tenor.com/images/96413046383dd05af000ac5bde82040f/tenor.gif?itemid=9291755\" alt=\"\">\n" +
                "        </div>\n" +
                "    </section>\n" +
                "    <div class=\"text-center\">\n" +
                "        <audio controls autoplay loop src=\"sandbox/gotemmm.mp3\"></audio>\n" +
                "    </div>\n" +
                "\n");


            $(document).ready(function() {
                $(".title").lettering();
                $(".button").lettering();
            });





            $(document).ready(function() {
                animation();
            }, 1000);

            $('.button').click(function() {
                animation();
            });


            function animation() {
                var title1 = new TimelineMax();
                title1.to(".button", 0, {visibility: 'hidden', opacity: 0});
                title1.staggerFromTo(".title span", 0.5,
                    {ease: Back.easeOut.config(1.7), opacity: 0, bottom: -80},
                    {ease: Back.easeOut.config(1.7), opacity: 1, bottom: 0}, 0.05);
                title1.to(".button", 0.2, {visibility: 'visible' ,opacity: 1})
            }



            var colors = new Array(
                [62,35,255],
                [60,255,60],
                [255,35,98],
                [45,175,230],
                [255,0,255],
                [255,128,0]);

            var step = 0;

            var colorIndices = [0,1,2,3];


            var gradientSpeed = 0.2;

            function updateGradient() {

                if ( $===undefined ) return;

                var c0_0 = colors[colorIndices[0]];
                var c0_1 = colors[colorIndices[1]];
                var c1_0 = colors[colorIndices[2]];
                var c1_1 = colors[colorIndices[3]];

                var istep = 1 - step;
                var r1 = Math.round(istep * c0_0[0] + step * c0_1[0]);
                var g1 = Math.round(istep * c0_0[1] + step * c0_1[1]);
                var b1 = Math.round(istep * c0_0[2] + step * c0_1[2]);
                var color1 = "rgb("+r1+","+g1+","+b1+")";

                var r2 = Math.round(istep * c1_0[0] + step * c1_1[0]);
                var g2 = Math.round(istep * c1_0[1] + step * c1_1[1]);
                var b2 = Math.round(istep * c1_0[2] + step * c1_1[2]);
                var color2 = "rgb("+r2+","+g2+","+b2+")";

                $('#gradient').css({
                    background: "-webkit-gradient(linear, left top, right top, from("+color1+"), to("+color2+"))"}).css({
                    background: "-moz-linear-gradient(left, "+color1+" 0%, "+color2+" 100%)"});

                step += gradientSpeed;
                if ( step >= 1 ) {
                    step %= 1;
                    colorIndices[0] = colorIndices[1];
                    colorIndices[2] = colorIndices[3];


                    colorIndices[1] = ( colorIndices[1] + Math.floor( 1 + Math.random() * (colors.length - 1))) % colors.length;
                    colorIndices[3] = ( colorIndices[3] + Math.floor( 1 + Math.random() * (colors.length - 1))) % colors.length;

                }
            }

            setInterval(updateGradient,10);

        }



    });
</script>
</body>
</html>